/* skPlayer by Scott */
!function(a){var b={timeFormat:function(a){var b=parseInt(a/60),c=parseInt(a%60),d=b<10?"0"+b:b,e=c<10?"0"+c:c;return d+":"+e},leftDistance:function(a){for(var b=a.offsetLeft;a.offsetParent;)a=a.offsetParent,b+=a.offsetLeft;return b}};skPlayer=function(a){function c(){"undefined"!=k.loop&&1==k.loop&&(o.loop=!0),n=this.duration,u.innerText="00:00",v.innerText=b.timeFormat(parseInt(n)),1==o.volume&&(o.volume=.7,s.style.width="70%"),w.style.backgroundColor="rgba(255,255,255,.0)",w.style.color="rgba(117,101,98,.0)",setTimeout(function(){w.style.display="none",p.addEventListener("click",g)},900)}function d(){n=this.duration}function e(){var a=parseInt(o.currentTime),c=a/n*100;q.style.width=c.toFixed(2)+"%",u.innerText=b.timeFormat(a)}function f(){p.classList.remove("skPlayer-pause"),x.classList.remove("skPlayer-pause"),u.innerText="00:00",q.style.width=0}function g(){o.paused?o.play():o.pause(),Array.prototype.indexOf.call(p.classList,"skPlayer-pause")>=0?(p.classList.remove("skPlayer-pause"),x.classList.remove("skPlayer-pause")):(p.className="skPlayer-play-btn skPlayer-pause",x.className="skPlayer-cover skPlayer-pause")}function h(){var a=(event.pageX-b.leftDistance(this))/this.offsetWidth;q.style.width=100*a+"%",o.currentTime=parseInt(a*n)}function i(){var a=(event.pageX-b.leftDistance(this))/this.offsetWidth;s.style.width=100*a+"%",o.volume=a.toFixed(2)}function j(){o.addEventListener("canplaythrough",c),o.addEventListener("durationchange",d),o.addEventListener("timeupdate",e),o.addEventListener("ended",f),r.addEventListener("click",h),t.addEventListener("click",i)}if(!(a.src&&a.name&&a.author&&a.cover))return void console.error("请正确配置对象！");var k=a,l=document.getElementById("skPlayer"),m='<audio src="'+k.src+'" preload="auto"></audio>';m+='<div class="skPlayer-picture">',m+='    <img src="'+k.cover+'" alt="" class="skPlayer-cover">',m+='    <a href="javascript:;" class="skPlayer-play-btn">',m+='        <span class="skPlayer-left"></span>',m+='        <span class="skPlayer-right"></span>',m+="    </a>",m+="</div>",m+='<div class="skPlayer-control">',m+='    <p class="skPlayer-name">'+k.name+"</p>",m+='    <p class="skPlayer-author">'+k.author+"</p>",m+='    <div class="skPlayer-percent">',m+='        <div class="skPlayer-line"></div>',m+="    </div>",m+='    <p class="skPlayer-time">',m+='        <span class="skPlayer-cur"></span>/<span class="skPlayer-total"></span>',m+="    </p>",m+='    <div class="skPlayer-volume">',m+='        <i class="skPlayer-icon"></i>',m+='        <div class="skPlayer-percent">',m+='            <div class="skPlayer-line"></div>',m+="        </div>",m+="    </div>",m+="</div>",m+='<div class="skPlayer-loading">',m+="    LOADING",m+="</div>",l.innerHTML=m;var n,o=l.querySelector("audio"),p=l.querySelector(".skPlayer-play-btn"),q=l.querySelector(".skPlayer-percent").querySelector(".skPlayer-line"),r=l.querySelector(".skPlayer-percent"),s=l.querySelector(".skPlayer-volume").querySelector(".skPlayer-line"),t=l.querySelector(".skPlayer-volume").querySelector(".skPlayer-percent"),u=l.querySelector(".skPlayer-cur"),v=l.querySelector(".skPlayer-total"),w=l.querySelector(".skPlayer-loading"),x=l.querySelector(".skPlayer-cover");j()},a.skPlayer=skPlayer}(window),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=window.skPlayer);